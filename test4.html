<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulaire de candidature</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">

    <style>
        .form-container {
            font-family: Lato, sans-serif;
            max-width: 700px;
            margin: 0 auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #f9f9f9;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            font-family: Lato, sans-serif;
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .form-group input, .form-group select {
            font-family: Lato, sans-serif;
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        .input-group {
            display: flex;
            align-items: center;
        }

        .input-group select {
            flex: 1;
        }

        .input-group input {
            flex: 2;
            display: none;
        }

        .btn-primary {
            background-color: #264D11;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            text-align: center;
        }

        .btn-primary:hover {
            background-color: #0a7a13;
        }

        .btn-secondary {
            background-color: #6c757d;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .btn-secondary:hover {
            background-color: #a8ada8;
        }

        .btn-danger {
            background-color: #dc3545;
            color: white;
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .experience-group {
            
          
        }

        .experience-group.hidden {
            opacity: 0;
        }

        .add-experience {
            display: inline-block;
            color: #19936a;
            cursor: pointer;
            margin-bottom: 10px;
        }

        .periode-row {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .periode-select {
            padding: 5px;
            margin-right: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        .periode-separator {
            margin: 0 10px;
        }

        .checkbox-row {
            display: flex;
            align-items: center;
        }

        .checkbox-row input[type="checkbox"] {
            margin-right: 10px;
        }


        .text-red {
            color: #dc3545;
            cursor: pointer;
            font-weight: bold;
            position: absolute;
            top: 10px;
            right: 10px;
            transition: color 0.3s;
        }

        .text-red:hover {
            color: #a94442;
        }

        .button-container {
        display: flex;
        justify-content: center; /* Centre les boutons horizontalement */
        gap: 10px; /* Espacement entre les boutons */
        margin-top: 20px; /* Marge au-dessus des boutons */
         }

         .tabular-main-div {
            position: relative;
            padding-left: 60px;
            max-width: 600px;
            margin: 0 auto;
        }

        .tabular-main-div:before {
            content: '';
            position: absolute;
            left: 30px;
            top: 0;
            bottom: 0;
            width: 1px;
            background-color: #ccc;
        }

        .experience-entry {
            position: relative;
            margin-bottom: 20px;
        }

        .crc-tabular-count {
            position: absolute;
            left: 10px;
            width: 40px;
            height: 40px;
            background-color: #fff;
            border: 2px solid #007bff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            font-weight: bold;
            color: #007bff;
            z-index: 1;
        }

        .experience-content {
            background-color: #fff;
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: 5px;
        }
        
    </style>
</head>
<body class="bg-white-100">

<form id="applicationForm" class="max-w-2xl mx-auto bg-white p-6 rounded-lg shadow-lg">
    <!-- Informations de base -->
    <h3 class="text-lg font-semibold mb-4">Informations de base - <a href="#" class="text-green-500" onclick="resetBaseInfo(event)">Effacer</a></h3>
    
    <div class="form-group">
        <label for="nom" class="block text-sm font-medium text-gray-700">Nom <span class="text-red-500">*</span></label>
        <input type="text" id="nom" name="nom" class="form-control" required />
    </div>
    
    <div class="form-group">
        <label for="prenom" class="block text-sm font-medium text-gray-700">Prénom <span class="text-red-500">*</span></label>
        <div class="input-group">
            <select id="prenom" name="prenom" class="form-control" onchange="togglePrenomTexte()" required>
                <option value="-Aucun-">-Aucun-</option>
                <option value="M.">M.</option>
                <option value="Mme">Mme</option>
                <option value="Mlle">Mlle</option>
            </select>
            <input type="text" id="prenomTexte" name="prenomTexte" class="form-control" placeholder="Prénom" />
        </div>
    </div>
    
    <div class="form-group">
        <label for="email" class="block text-sm font-medium text-gray-700">Adresse e-mail <span class="text-red-500">*</span></label>
        <input type="email" id="email" name="email" class="form-control" required />
    </div>
    
    <div class="form-group">
        <label for="portable" class="block text-sm font-medium text-gray-700">Portable <span class="text-red-500">*</span> </label>
        <input type="text" id="portable" name="portable" class="form-control" required />
    </div>
    
    <div class="form-group">
        <label for="nationalite" class="block text-sm font-medium text-gray-700">Nationalité <span class="text-red-500">*</span> </label>
        <input type="text" id="nationalite" name="nationalite" class="form-control" required />
    </div>
    
    <h3 class="text-lg font-semibold mt-6 mb-4">Informations professionnelles - <a href="#" class="text-green-500" onclick="resetProfessionalInfo(event)">Effacer</a></h3>
    
    <div class="form-group">
        <label for="experience" class="block text-sm font-medium text-gray-700">Années d'expérience  <span class="text-red-500">*</span></label>
        <input type="number" id="experience" name="experience" class="form-control" required />
    </div>
    
    <div class="form-group">
        <label for="disponibilite" class="block text-sm font-medium text-gray-700">Date de disponibilité <span class="text-red-500">*</span></label>
        <input type="date" id="disponibilite" name="disponibilite" class="form-control" required />
    </div>
    
    <div class="form-group">
        <label for="competences" class="block text-sm font-medium text-gray-700">Compétences <span class="text-red-500">*</span></label>
        <input type="text" id="competences" name="competences" class="form-control" placeholder="Rechercher et ajouter des compétences" required />
    </div>

    <div class="form-group">
        <label for="disponibilite_immediate" class="block text-sm font-medium text-gray-700">Disponibilité Immédiate <span class="text-red-500">*</span></label>
        <select id="disponibilite_immediate" name="disponibilite_immediate" class="form-control" required>
            <option value="-Aucun-">-Aucun-</option>
            <option value="Oui">Oui</option>
            <option value="Non">Non</option>
        </select>
    </div>
    
    <div class="form-group">
        <label for="employeur_actuel" class="block text-sm font-medium text-gray-700">Employeur actuel <span class="text-red-500">*</span></label>
        <input type="text" id="employeur_actuel" name="employeur_actuel" class="form-control" required />
    </div>
    
    <div class="form-group">
        <label for="fonction_actuelle" class="block text-sm font-medium text-gray-700">Fonction actuelle <span class="text-red-500">*</span></label>
        <select id="fonction_actuelle" name="fonction_actuelle" class="form-control" required>
            <option value="-Aucun-">Aucun</option>
            <option value="Débutant">Débutant</option>
            <option value="Chef de projet">Chef de projet</option>
            <option value="Gestionnaire de projet">Gestionnaire de projet</option>
        </select>
    </div>

    <div class="form-group">
        <label for="mobilite" class="block text-sm font-medium text-gray-700">Mobilité <span class="text-red-500">*</span></label>
        <select id="mobilite" name="mobilite" class="form-control" required>
            <option value="" disabled selected hidden>Aucune</option>
            <option value="Maroc">Maroc</option>
            <option value="France">France</option>
            <option value="Afrique">Afrique</option>
            <option value="Europe">Europe</option>
            <option value="Moyen Orient">Moyen Orient</option>
        </select>
    </div>

    <h3 class="text-lg font-semibold mt-6 mb-4">Expériences Professionnelles - <a href="#" class="text-green-500" onclick="resetExperienceInfo(event)">Effacer</a></h3>
    <div class="form-group">
        <span class="add-experience" onclick="addExperience()"><strong>+ Ajouter</strong></span>
        
        <div class="tabular-main-div" id="experiences-container">
            <!-- Les expériences seront ajoutées ici dynamiquement -->
        </div>
    </div>

    <div class="button-container">
        <button type="button" class="btn btn-secondary">Annuler</button>
        <button type="submit" class="btn btn-primary">Soumettre la Candidature</button>
    </div>
</form>

<script>
    function togglePrenomTexte() {
        const prenom = document.getElementById('prenom').value;
        const prenomTexte = document.getElementById('prenomTexte');
        prenomTexte.style.display = (prenom === "-Aucun-") ? "none" : "block";
    }

    function resetBaseInfo(event) {
        event.preventDefault();
        document.querySelectorAll('#applicationForm .form-group input, #applicationForm .form-group select').forEach(input => {
            input.value = '';
        });
        document.getElementById('prenomTexte').style.display = 'none';
    }

    function resetProfessionalInfo(event) {
        event.preventDefault(); 
        document.getElementById('experience').value = ''; 
        document.getElementById('disponibilite').value = ''; 
        document.getElementById('competences').value = ''; 
        document.getElementById('disponibilite_immediate').value = '-Aucun-'; 
        document.getElementById('employeur_actuel').value = ''; 
        document.getElementById('fonction_actuelle').value = '-Aucun-'; 
        document.getElementById('mobilite').value = ''; 
    }

    function resetExperienceInfo(event) {
        event.preventDefault();
        const container = document.getElementById('experiences-container');
        while (container.firstChild) {
            container.removeChild(container.firstChild);
        }
        document.querySelector('.add-experience strong').textContent = '+ Ajouter';
    }

    let experienceCount = 0;

    function addExperience() {
        experienceCount++;
        const container = document.getElementById('experiences-container');

        const experienceDiv = document.createElement('div');
        experienceDiv.classList.add('tabular-data-div');
        experienceDiv.id = `experience-${experienceCount}`;
        experienceDiv.innerHTML = `
            <div class="experience-header">
                <h4>Expérience ${experienceCount} - <a href="#" class="text-red-500" onclick="removeExperience(${experienceCount})">Effacer</a></h4>
            </div>
            <div class="grid grid-cols-2 gap-4 mb-6">
                <div class="form-group">
                    <label for="titre-${experienceCount}" class="block text-sm font-medium text-gray-700">Profession/titre</label>
                    <input type="text" id="titre-${experienceCount}" name="titre-${experienceCount}" class="form-control" required />
                </div>
                <div class="form-group">
                    <label for="societe-${experienceCount}" class="block text-sm font-medium text-gray-700">Société</label>
                    <input type="text" id="societe-${experienceCount}" name="societe-${experienceCount}" class="form-control" required />
                </div>
                <div class="form-group">
                    <label for="description-${experienceCount}" class="block text-sm font-medium text-gray-700">Description</label>
                    <input type="text" id="description-${experienceCount}" name="description-${experienceCount}" class="form-control" required />
                </div>
                <div class="form-group">
                    <label for="periode-${experienceCount}" class="block text-sm font-medium text-gray-700">Période</label>
                    <input type="text" id="periode-${experienceCount}" name="periode-${experienceCount}" class="form-control" required />
                </div>
            </div>
        `;

        container.appendChild(experienceDiv);

        const addBtn = document.querySelector('.add-experience strong');
        if (experienceCount > 0) {
            addBtn.textContent = '+ Ajouter plus';
        }
    }

    function removeExperience(id) {
        const experienceDiv = document.getElementById(`experience-${id}`);
        if (experienceDiv) {
            experienceDiv.remove();
            experienceCount--;
            renumberExperiences();
        }
    }

    function renumberExperiences() {
        const experiences = document.querySelectorAll('.tabular-data-div');
        experienceCount = experiences.length;
        experiences.forEach((experience, index) => {
            experience.querySelector('.experience-header h4').textContent = `Expérience ${index + 1} - `;
        });
        const addBtn = document.querySelector('.add-experience strong');
        if (experienceCount === 0) {
            addBtn.textContent = '+ Ajouter';
        }
    }
</script>

</body>
</html>
